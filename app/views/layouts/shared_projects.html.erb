<!DOCTYPE html>
<html>
<head>
  <title>Zuse Hub - <%= @shared_project.title %></title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,800,700,600,300' rel='stylesheet' type='text/css' />
  <%= stylesheet_link_tag    "application", media: "all" %>
  <%= javascript_include_tag "application" %>
  <%= javascript_tag do %>
    $(function () {
    <% if @shared_project.project_json && !@shared_project.project_json.empty? %>
      window.raw_code = <%= raw @shared_project.project_json %>;
    <% end %>

    <% if @shared_project.compiled_code && !@shared_project.compiled_code.empty? %>
      window.compiled_code = <%= raw @shared_project.compiled_code %>;

    <% end %>

      var canvas = $("#viewport");

      window.game = new ZuseAppEngine( { canvas: canvas, code: raw_code } );
    });
  <% end %>
  <%= csrf_meta_tags %>
</head>
<body>
  <%= render "layouts/header" %>

<%= yield %>

</body>
</html>
